<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>2 Getting started 2.0.3</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configurationOptions.html"><strong>3</strong><span>Configuration options</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/differencesFromOtherTestFrameworks.html"><strong>4</strong><span>Differences from other test frameworks</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/tutorials.html"><strong>5</strong><span>Tutorials</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://www.fitnesse.org" target="_blank"><img src="../img/FitNesseLogo.gif" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://www.jworks.nl" target="_blank"><img src="../img/jworks-logo.png" border="0"/></a></span>
        
    </div>
    <p>The Fitnesse Grails plugin provides a bridge between Fitnesse and Grails.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/configurationOptions.html"><strong>3</strong><span>Configuration options</span> >></a></div>
                


                <div class="project">
                    <h1>2 Getting started - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Erik Pragt (<a href="http://www.jworks.nl">jWorks.nl</a>), Marcin Erdmann, John Engelman</p>

                    <p><strong>Version:</strong> 2.0.3</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#quickstart"><strong>2.1</strong><span>Quickstart</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#fixtures"><strong>2.2</strong><span>Fixtures</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#wiki"><strong>2.3</strong><span>Wiki</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#testrunner"><strong>2.4</strong><span>Testrunner</span></a>
                    </div>
                    
                </div>
                

                
<a name="2 Getting started"><!-- Legacy link --></a>
<h1 id="gettingStarted">2 Getting started</h1>
You can install the plugin by typing
<div class="code"><pre>$ grails install&#45;plugin fitnesse</pre></div><p class="paragraph"/>Now, whenever you start up your Grails application (using run-app for example), a Fitnesse server will also start internally, allowing the Fitnesse Wiki to connect to the Grails application.<p class="paragraph"/><blockquote class="note">
Note that currently you'll need to start up and close your Grails application yourself; the plugin doesn't do this for you. This might change in the future, but for now, it's a manual step.
</blockquote><p class="paragraph"/>The internal Fitnesse server allows connections made by the Fitnesse Wiki to be interpreted by Fixtures, which run against your application.<p class="paragraph"/><p class="paragraph"/><p class="paragraph"/><p class="paragraph"/>


<a name="2.1 Quickstart"><!-- Legacy link --></a>
<h2 id="quickstart">2.1 Quickstart</h2>
For the impatient, this is the quickstart to get Fitnesse to work with Grails.<p class="paragraph"/><h3>Step 1: Create a new Grails application</h3>
<div class="code"><pre>grails create&#45;app myapp
cd myapp</pre></div><p class="paragraph"/><h3>Step 2: Install the Fitnesse Plugin</h3>
<div class="code"><pre>grails install&#45;plugin fitnesse</pre></div><p class="paragraph"/><h3>Step 3: Start the Grails application</h3>
<div class="code"><pre>grails run&#45;app</pre></div><p class="paragraph"/><h3>Step 4 (in a differtent console or terminal): Start Fitnesse</h3>
<div class="code"><pre>grails run&#45;fitnesse</pre></div><p class="paragraph"/><h3>Step 5: Configure Fitnesse (for Linux/MacOS)</h3><p class="paragraph"/>Browse to http://localhost:9090, and replace (See 'Edit' in the left side menu)  the contents of the page with the following:
<div class="code"><pre>!define TEST_SYSTEM &#123;slim&#125;
!define COMMAND_PATTERN &#123;echo&#125;<p class="paragraph"/>
|<span class="java&#45;keyword">import</span>                       |
|nl.jworks.fitnesse.quickstart|<p class="paragraph"/>
|echo|
|input|output?|
|hello|  hello|
|world|  world|</pre></div><p class="paragraph"/><blockquote class="note">
The COMMAND_PATTERN needs to be configured to point to an executable to prevent Fitnesse from starting a server.
On Windows, for example, this can be an empty batch file:
<code>!define COMMAND_PATTERN {c:/myemptybat.bat}</code>.
</blockquote><p class="paragraph"/><strong class="bold">Save</strong> the page.<p class="paragraph"/><h3>Step 6: Verify it works</h3><p class="paragraph"/>Click on <strong class="bold">Properties</strong>, select <strong class="bold">Test</strong> under '<code>Page type</code>', click on <strong class="bold">Save properties</strong> to save the page.<p class="paragraph"/>Now press <strong class="bold">Test</strong>. Everything should be Green now!<p class="paragraph"/><img border="0" class="center" src="../img/quickstart.png"></img>

<a name="2.2 Fixtures"><!-- Legacy link --></a>
<h2 id="fixtures">2.2 Fixtures</h2>
Fitnesse Fixtures, not to be confused with <a href="http://www.grails.org/plugin/fixtures" target="blank">Grails Fixtures</a>, allow a bridge between the Fitnesse Wiki and the System Under Test (SUT).<p class="paragraph"/>Fixtures are similar to Grails artifacts and share most of their characteristics, like hot reloading and Dependency Injection. All Fixtures should be created in the 'Fitnesse' directory in the <code>grails-app</code> directory.<p class="paragraph"/><h4>Example</h4><p class="paragraph"/>Below you'll find an example Wiki test plus the Fixture which will serve as the bridge between the Wiki and the SUT.<p class="paragraph"/>Wiki:
<div class="code"><pre>|loan calculator       |
|income|debts|category?|
|10000 |500  |A        |
|5000  |10000|C        |</pre></div><p class="paragraph"/>And the Fixture:<p class="paragraph"/><div class="code"><pre>class LoanCalculatorFixture &#123;
    // Input parameters
    <span class="java&#45;object">int</span> income
    <span class="java&#45;object">int</span> debts<p class="paragraph"/>    // Output parameter
    <span class="java&#45;object">String</span> category<p class="paragraph"/>    // Dependency Injected
    def loanCalculationService<p class="paragraph"/>    void execute() &#123;
        <span class="java&#45;keyword">this</span>.category = loanCalculationService.calculateLoanCategory(income, debts)
    &#125;
&#125;</pre></div><p class="paragraph"/><strong class="bold">Explanation</strong><p class="paragraph"/>The Wiki Tests consists of 3 parts:
<ul class="star">
<li>the fixture name (<code>loan calculator</code>)</li>
<li>the header(income, debts, and category)</li>
<li>and the body (the rest of the table). As you can see, <code>category</code> is suffixed with a question mark to indicate this is not a value to be set, but rather to be read ('get'). As such, first the input values are set, then the execute method is called by Fitnesse, and finally the output are called, in this case category.</li>
</ul><p class="paragraph"/><blockquote class="note">
A small note: normally output parameters are 'functions' and not getters. This means you would need an extra method for the output parameters. In the Grails version of the Fitnesse runner, this isn't necessary (fortunately!), and Fitnesse will check both the 'functions' as well as the Groovy properties. Less code to write, less code to maintain!
</blockquote><p class="paragraph"/>

<a name="2.3 Wiki"><!-- Legacy link --></a>
<h2 id="wiki">2.3 Wiki</h2>
The Wiki contains all the tests. The wiki consists of two parts:
<ul class="star">
<li>Formatted text</li>
<li>Tables</li>
</ul><p class="paragraph"/>Tables are the tests, and only tables are executed.<p class="paragraph"/>The following tests are at least supported by the Grails Fitnesse plugin:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>Decision Table</td><td>Supplies the inputs and outputs for decisions.  This is similar to the Fit Column Fixture</td></tr><tr class="table-even"><td>Query Table</td><td>Supplies the expected results of a query.  This is similar to the Fit Row Fixture</td></tr><tr class="table-odd"><td>Script Table</td><td>A series of actions and checks. Similar to Do Fixture.</td></tr><tr class="table-even"><td>Import</td><td>Add a path to the fixture search path.</td></tr></table><p class="paragraph"/>The following tables might work, but at the moment, they haven't been tested yet. They are included here for completeness.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>Table Table</td><td>Whatever you want it to be!</td></tr><tr class="table-even"><td>Subset Query Table</td><td>Supplies a subset of the expected results of a query.</td></tr><tr class="table-odd"><td>Ordered query Table</td><td>Supplies the expected results of a query.  The rows are expected to be in order.  This is similar to the Fit Row Fixture</td></tr><tr class="table-even"><td>Comment</td><td>A table that does nothing.</td></tr><tr class="table-odd"><td>Scenario Table</td><td>A table that can be called from other tables.</td></tr><tr class="table-even"><td>Library Table</td><td>A table that installs fixtures available for all test pages</td></tr></table><p class="paragraph"/>For more information, please check out the Fitnesse Slim documentation on <a href="http://fitnesse.org/FitNesse.UserGuide.SliM" target="blank">Test Tables</a>.

<a name="2.4 Testrunner"><!-- Legacy link --></a>
<h2 id="testrunner">2.4 Testrunner</h2>
The Fitnesse Plugin can be used when testing your application from the command line by using the bundled testrunner. The testrunner can be launced by typing:<p class="paragraph"/><div class="code"><pre>grails test&#45;app integration:fitnesse &#60;name of suite or test&#62;</pre></div><p class="paragraph"/>An example of this can be found below:<p class="paragraph"/><div class="code"><pre>grails test&#45;app integration:fitnesse <span class="java&#45;quote">"FrontPage.GrailsTestSuite.SlimTestSystem?suite"</span></pre></div><p class="paragraph"/>It is also possbible to run multiple tests or suites. This can done by appending the suite or tests names:<p class="paragraph"/><div class="code"><pre>grails test&#45;app integration:fitnesse <span class="java&#45;quote">"FrontPage.GrailsTestSuite.FirstSuite?suite"</span> <span class="java&#45;quote">"FrontPage.GrailsTestSuite.SecondSuite?suite"</span></pre></div><p class="paragraph"/>Running these commands will start up the Grails application, launch the Fitnesse tests, and return the results in a standard Grails test report.<p class="paragraph"/><h3>Run sequence</h3><p class="paragraph"/>The default Wiki Suite or Test which will be run using <code>grails test-app</code> will be determined in the following way:
<ol>
<li>First, if a suite or test is specified as an argument to <code>grails test-app</code>, the argument will be used</li>
<li>Second, if a suite or test is specified in the Config.groovy, that one will be used</li>
<li>Thirdly, all tests defined on the Fitnesse Frontpage (FrontPage?suite) will be run if none of the above options are applicable</li>
</ol><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/configurationOptions.html"><strong>3</strong><span>Configuration options</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Scripts</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Scripts/create-fitnesse-fixture.html">create-fitnesse-fixture</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Scripts/create-fitnesse-query-fixture.html">create-fitnesse-query-fixture</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Scripts/run-fitnesse.html">run-fitnesse</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
